import{_ as p,a as h,r as x,o as u,c as d,b as e,t as n,e as l,k as v,i as _,g as f}from"./index-qNaQSeWg.js";const y={name:"Surah",data(){return{currentReciter:{id:null,name:null,audioId:null},currentSurah:this.$route.params.id,surah:{},verse:0,tafseer:""}},computed:{verses(){return this.surah.verses||[{text:null,id:null}]}},methods:{prevVerse:function(){this.verse!=0&&(this.verse=this.verse-1),this.getTafseer()},nextVerse:function(){const i=this.verses.length-1;this.verse!=i&&(this.verse=this.verse+1),this.getTafseer()},getTafseer:function(){const i=`http://api.quran-tafseer.com/tafseer/1/${this.$route.params.id}/${this.verse+1}`;console.log(i),h.get(i).then(t=>{console.log(t.data),this.tafseer=t.data.text})},playSurah:function(){let i=this.currentReciter.audioId,t=this.currentReciter.type;h.get(`https://www.mp3quran.net/api/v3/reciters?reciter=${i}`).then(a=>{const s=a.data.reciters[0].moshaf[t-1].server;let r=`${s}001.mp3`;this.surah.id<=9?r=`${s}00${this.surah.id}.mp3`:this.surah.id>=10&&!(this.surah.id>100)?r=`${s}0${this.surah.id}.mp3`:this.surah.id>=100&&(r=`${s}${this.surah.id}.mp3`);const c=this.$store;c.state.recite.name=this.currentReciter.name,c.state.recite.surah=this.surah.name,c.state.recite.picture=this.currentReciter.picture,c.state.audio.src=r,c.state.audio.play()})}},mounted(){const i=this.$route.params.reciter;h.get("../../src/json/reciters.json").then(t=>{t.data.forEach(a=>{a.id===i&&(this.currentReciter=a)})}),h.get("../../src/json/quran.json").then(t=>{this.surah=t.data.filter(a=>a.id===Number(this.currentSurah)),this.surah=this.surah[0]}),this.getTafseer(),window.addEventListener("keypress",t=>{t.key==="a"?this.nextVerse():t.key==="d"&&this.prevVerse()}),this.currentReciter===null&&(this.currentReciter=null)}},g={class:"surah-container"},w={key:0},k={class:"text-center text-6xl text-white font-extrabold font-uthmanicHafs"},b={class:"flex items-center justify-center gap-2 mt-2"},j={class:"flex items-center justify-center flex-col rtl"},R={key:0,class:"text-center font-semibold pt-2"},V={id:"surah"},C={class:"flex items-center justify-center"},S={class:"flex items-center justify-center gap-5 flex-col"},B={key:0,class:"font-uthmanicHafs text-center font-bold text-white text-2xl"},N={id:"ayah",class:"text-center text-white text-4xl rtl flex items-center justify-center w-full p-5 gap-2 flex-wrap font-uthmanicHafs"},T={class:"inline-flex items-center justify-center text-right ltr font-uthmanicHafs"},A={class:"flex items-center justify-center gap-5 flex-col"},E={class:"w-[60%] text-xl text-center opacity-60 hover:opacity-80 bg-[#F5DD61] p-1 rounded text-black shadow-2xl rtl"},H=e("h2",{class:"flex items-center gap-2 justify-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-info-circle",viewBox:"0 0 16 16"},[e("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"}),e("path",{d:"m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"})]),e("small",null,"التفسير الميسر")],-1);function q(i,t,a,m,s,r){const c=x("router-link");return u(),d("div",g,[s.surah?(u(),d("div",w,[e("h1",k,"سورة "+n(s.surah.name),1),e("div",b,[e("p",null,"EN: "+n(s.surah.transliteration),1),l(" | "),e("p",null,"النوع : "+n(s.surah.type==="meccan"?"مكية":"مدنية"),1),l(" | "),e("p",null,"عدد اياتها "+n(s.surah.total_verses),1)]),e("div",j,[s.currentReciter.name?(u(),d("p",R,[e("button",{class:"text-green-400",onClick:t[0]||(t[0]=(...o)=>r.playSurah&&r.playSurah(...o))},"تشغيل السورة "),l(" بصوت القارئ "),v(c,{class:"text-primary",to:`/reciter/${s.currentReciter.id}`},{default:_(()=>[l(n(s.currentReciter.name),1)]),_:1},8,["to"])])):f("",!0)]),e("div",V,[e("div",C,[e("button",{class:"bg-[#2B2A4C] shadow rounded p-2 outline-primary shadow-2xl shadow-dark-2 m-2",onClick:t[1]||(t[1]=(...o)=>r.nextVerse&&r.nextVerse(...o))},"الأية التالية"),e("button",{class:"bg-[#2B2A4C] shadow rounded p-2 outline-primary shadow-2xl shadow-dark-2 m-2",onClick:t[2]||(t[2]=(...o)=>r.prevVerse&&r.prevVerse(...o))},"الأية السابقة")]),e("div",S,[s.surah.id!=1&s.verse===0?(u(),d("h1",B,"بسم الله الرحمن الرحيم")):f("",!0),e("p",N,[l(n(r.verses[s.verse].text)+" ",1),e("small",T,"﴾ "+n(r.verses[s.verse].id)+" ﴿",1)])]),e("div",A,[e("div",E,[H,e("p",null,n(s.tafseer),1)])])])])):f("",!0)])}const I=p(y,[["render",q]]);export{I as default};
